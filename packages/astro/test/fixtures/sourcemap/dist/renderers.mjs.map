{"version":3,"file":"renderers.mjs","sources":["../../../../../integrations/react/context.js","../../../../../integrations/react/static-html.js","../../../../../integrations/react/server.js"],"sourcesContent":["const contexts = new WeakMap();\n\nconst ID_PREFIX = 'r';\n\nfunction getContext(rendererContextResult) {\n\tif (contexts.has(rendererContextResult)) {\n\t\treturn contexts.get(rendererContextResult);\n\t}\n\tconst ctx = {\n\t\tcurrentIndex: 0,\n\t\tget id() {\n\t\t\treturn ID_PREFIX + this.currentIndex.toString();\n\t\t},\n\t};\n\tcontexts.set(rendererContextResult, ctx);\n\treturn ctx;\n}\n\nexport function incrementId(rendererContextResult) {\n\tconst ctx = getContext(rendererContextResult);\n\tconst id = ctx.id;\n\tctx.currentIndex++;\n\treturn id;\n}\n","import { createElement as h } from 'react';\n\n/**\n * Astro passes `children` as a string of HTML, so we need\n * a wrapper `div` to render that content as VNodes.\n *\n * As a bonus, we can signal to React that this subtree is\n * entirely static and will never change via `shouldComponentUpdate`.\n */\nconst StaticHtml = ({ value, name, hydrate = true }) => {\n\tif (!value) return null;\n\tconst tagName = hydrate ? 'astro-slot' : 'astro-static-slot';\n\treturn h(tagName, {\n\t\tname,\n\t\tsuppressHydrationWarning: true,\n\t\tdangerouslySetInnerHTML: { __html: value },\n\t});\n};\n\n/**\n * This tells React to opt-out of re-rendering this subtree,\n * In addition to being a performance optimization,\n * this also allows other frameworks to attach to `children`.\n *\n * See https://preactjs.com/guide/v8/external-dom-mutations\n */\nStaticHtml.shouldComponentUpdate = () => false;\n\nexport default StaticHtml;\n","import opts from 'astro:react:opts';\nimport React from 'react';\nimport ReactDOM from 'react-dom/server';\nimport { incrementId } from './context.js';\nimport StaticHtml from './static-html.js';\n\nconst slotName = (str) => str.trim().replace(/[-_]([a-z])/g, (_, w) => w.toUpperCase());\nconst reactTypeof = Symbol.for('react.element');\n\nfunction errorIsComingFromPreactComponent(err) {\n\treturn (\n\t\terr.message &&\n\t\t(err.message.startsWith(\"Cannot read property '__H'\") ||\n\t\t\terr.message.includes(\"(reading '__H')\"))\n\t);\n}\n\nasync function check(Component, props, children) {\n\t// Note: there are packages that do some unholy things to create \"components\".\n\t// Checking the $$typeof property catches most of these patterns.\n\tif (typeof Component === 'object') {\n\t\treturn Component['$$typeof'].toString().slice('Symbol('.length).startsWith('react');\n\t}\n\tif (typeof Component !== 'function') return false;\n\tif (Component.name === 'QwikComponent') return false;\n\n\t// Preact forwarded-ref components can be functions, which React does not support\n\tif (typeof Component === 'function' && Component['$$typeof'] === Symbol.for('react.forward_ref'))\n\t\treturn false;\n\n\tif (Component.prototype != null && typeof Component.prototype.render === 'function') {\n\t\treturn React.Component.isPrototypeOf(Component) || React.PureComponent.isPrototypeOf(Component);\n\t}\n\n\tlet error = null;\n\tlet isReactComponent = false;\n\tfunction Tester(...args) {\n\t\ttry {\n\t\t\tconst vnode = Component(...args);\n\t\t\tif (vnode && vnode['$$typeof'] === reactTypeof) {\n\t\t\t\tisReactComponent = true;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tif (!errorIsComingFromPreactComponent(err)) {\n\t\t\t\terror = err;\n\t\t\t}\n\t\t}\n\n\t\treturn React.createElement('div');\n\t}\n\n\tawait renderToStaticMarkup(Tester, props, children, {});\n\n\tif (error) {\n\t\tthrow error;\n\t}\n\treturn isReactComponent;\n}\n\nasync function getNodeWritable() {\n\tlet nodeStreamBuiltinModuleName = 'node:stream';\n\tlet { Writable } = await import(/* @vite-ignore */ nodeStreamBuiltinModuleName);\n\treturn Writable;\n}\n\nfunction needsHydration(metadata) {\n\t// Adjust how this is hydrated only when the version of Astro supports `astroStaticSlot`\n\treturn metadata.astroStaticSlot ? !!metadata.hydrate : true;\n}\n\nasync function renderToStaticMarkup(Component, props, { default: children, ...slotted }, metadata) {\n\tlet prefix;\n\tif (this && this.result) {\n\t\tprefix = incrementId(this.result);\n\t}\n\tconst attrs = { prefix };\n\n\tdelete props['class'];\n\tconst slots = {};\n\tfor (const [key, value] of Object.entries(slotted)) {\n\t\tconst name = slotName(key);\n\t\tslots[name] = React.createElement(StaticHtml, {\n\t\t\thydrate: needsHydration(metadata),\n\t\t\tvalue,\n\t\t\tname,\n\t\t});\n\t}\n\t// Note: create newProps to avoid mutating `props` before they are serialized\n\tconst newProps = {\n\t\t...props,\n\t\t...slots,\n\t};\n\tconst newChildren = children ?? props.children;\n\tif (children && opts.experimentalReactChildren) {\n\t\tattrs['data-react-children'] = true;\n\t\tconst convert = await import('./vnode-children.js').then((mod) => mod.default);\n\t\tnewProps.children = convert(children);\n\t} else if (newChildren != null) {\n\t\tnewProps.children = React.createElement(StaticHtml, {\n\t\t\thydrate: needsHydration(metadata),\n\t\t\tvalue: newChildren,\n\t\t});\n\t}\n\tconst formState = this ? await getFormState(this) : undefined;\n\tif (formState) {\n\t\tattrs['data-action-result'] = JSON.stringify(formState[0]);\n\t\tattrs['data-action-key'] = formState[1];\n\t\tattrs['data-action-name'] = formState[2];\n\t}\n\tconst vnode = React.createElement(Component, newProps);\n\tconst renderOptions = {\n\t\tidentifierPrefix: prefix,\n\t\tformState,\n\t};\n\tlet html;\n\tif ('renderToReadableStream' in ReactDOM) {\n\t\thtml = await renderToReadableStreamAsync(vnode, renderOptions);\n\t} else {\n\t\thtml = await renderToPipeableStreamAsync(vnode, renderOptions);\n\t}\n\treturn { html, attrs };\n}\n\n/**\n * @returns {Promise<[actionResult: any, actionKey: string, actionName: string] | undefined>}\n */\nasync function getFormState({ result }) {\n\tconst { request, actionResult } = result;\n\n\tif (!actionResult) return undefined;\n\tif (!isFormRequest(request.headers.get('content-type'))) return undefined;\n\n\tconst { searchParams } = new URL(request.url);\n\tconst formData = await request.clone().formData();\n\t/**\n\t * The key generated by React to identify each `useActionState()` call.\n\t * @example \"k511f74df5a35d32e7cf266450d85cb6c\"\n\t */\n\tconst actionKey = formData.get('$ACTION_KEY')?.toString();\n\t/**\n\t * The action name returned by an action's `toString()` property.\n\t * This matches the endpoint path.\n\t * @example \"/_actions/blog.like\"\n\t */\n\tconst actionName =\n\t\tsearchParams.get('_astroAction') ??\n\t\t/* Legacy. TODO: remove for stable */ formData\n\t\t\t.get('_astroAction')\n\t\t\t?.toString();\n\n\tif (!actionKey || !actionName) return undefined;\n\n\treturn [actionResult, actionKey, actionName];\n}\n\nasync function renderToPipeableStreamAsync(vnode, options) {\n\tconst Writable = await getNodeWritable();\n\tlet html = '';\n\treturn new Promise((resolve, reject) => {\n\t\tlet error = undefined;\n\t\tlet stream = ReactDOM.renderToPipeableStream(vnode, {\n\t\t\t...options,\n\t\t\tonError(err) {\n\t\t\t\terror = err;\n\t\t\t\treject(error);\n\t\t\t},\n\t\t\tonAllReady() {\n\t\t\t\tstream.pipe(\n\t\t\t\t\tnew Writable({\n\t\t\t\t\t\twrite(chunk, _encoding, callback) {\n\t\t\t\t\t\t\thtml += chunk.toString('utf-8');\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdestroy() {\n\t\t\t\t\t\t\tresolve(html);\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t},\n\t\t});\n\t});\n}\n\n/**\n * Use a while loop instead of \"for await\" due to cloudflare and Vercel Edge issues\n * See https://github.com/facebook/react/issues/24169\n */\nasync function readResult(stream) {\n\tconst reader = stream.getReader();\n\tlet result = '';\n\tconst decoder = new TextDecoder('utf-8');\n\twhile (true) {\n\t\tconst { done, value } = await reader.read();\n\t\tif (done) {\n\t\t\tif (value) {\n\t\t\t\tresult += decoder.decode(value);\n\t\t\t} else {\n\t\t\t\t// This closes the decoder\n\t\t\t\tdecoder.decode(new Uint8Array());\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tresult += decoder.decode(value, { stream: true });\n\t}\n}\n\nasync function renderToReadableStreamAsync(vnode, options) {\n\treturn await readResult(await ReactDOM.renderToReadableStream(vnode, options));\n}\n\nconst formContentTypes = ['application/x-www-form-urlencoded', 'multipart/form-data'];\n\nfunction isFormRequest(contentType) {\n\t// Split off parameters like charset or boundary\n\t// https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type#content-type_in_html_forms\n\tconst type = contentType?.split(';')[0].toLowerCase();\n\n\treturn formContentTypes.some((t) => type === t);\n}\n\nexport default {\n\tname: '@astrojs/react',\n\tcheck,\n\trenderToStaticMarkup,\n\tsupportsAstroStaticSlot: true,\n};\n"],"names":["h"],"mappings":";;;;;;;AAAA,MAAM,QAAQ,GAAG,IAAI,OAAO,EAAE,CAAC;AAC/B;AACA,MAAM,SAAS,GAAG,GAAG,CAAC;AACtB;AACA,SAAS,UAAU,CAAC,qBAAqB,EAAE;AAC3C,CAAC,IAAI,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,EAAE;AAC1C,EAAE,OAAO,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;AAC7C,EAAE;AACF,CAAC,MAAM,GAAG,GAAG;AACb,EAAE,YAAY,EAAE,CAAC;AACjB,EAAE,IAAI,EAAE,GAAG;AACX,GAAG,OAAO,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;AACnD,GAAG;AACH,EAAE,CAAC;AACH,CAAC,QAAQ,CAAC,GAAG,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;AAC1C,CAAC,OAAO,GAAG,CAAC;AACZ,CAAC;AACD;AACO,SAAS,WAAW,CAAC,qBAAqB,EAAE;AACnD,CAAC,MAAM,GAAG,GAAG,UAAU,CAAC,qBAAqB,CAAC,CAAC;AAC/C,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC;AACnB,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;AACpB,CAAC,OAAO,EAAE,CAAC;AACX;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,UAAU,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,GAAG,IAAI,EAAE,KAAK;AACxD,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,IAAI,CAAC;AACzB,CAAC,MAAM,OAAO,GAAG,OAAO,GAAG,YAAY,GAAG,mBAAmB,CAAC;AAC9D,CAAC,OAAOA,aAAC,CAAC,OAAO,EAAE;AACnB,EAAE,IAAI;AACN,EAAE,wBAAwB,EAAE,IAAI;AAChC,EAAE,uBAAuB,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;AAC5C,EAAE,CAAC,CAAC;AACJ,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,CAAC,qBAAqB,GAAG,MAAM,KAAK;;ACpB9C,MAAM,QAAQ,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;AACxF,MAAM,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAChD;AACA,SAAS,gCAAgC,CAAC,GAAG,EAAE;AAC/C,CAAC;AACD,EAAE,GAAG,CAAC,OAAO;AACb,GAAG,GAAG,CAAC,OAAO,CAAC,UAAU,CAAC,4BAA4B,CAAC;AACvD,GAAG,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;AAC3C,GAAG;AACH,CAAC;AACD;AACA,eAAe,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE,QAAQ,EAAE;AACjD;AACA;AACA,CAAC,IAAI,OAAO,SAAS,KAAK,QAAQ,EAAE;AACpC,EAAE,OAAO,SAAS,CAAC,UAAU,CAAC,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AACtF,EAAE;AACF,CAAC,IAAI,OAAO,SAAS,KAAK,UAAU,EAAE,OAAO,KAAK,CAAC;AACnD,CAAC,IAAI,SAAS,CAAC,IAAI,KAAK,eAAe,EAAE,OAAO,KAAK,CAAC;AACtD;AACA;AACA,CAAC,IAAI,OAAO,SAAS,KAAK,UAAU,IAAI,SAAS,CAAC,UAAU,CAAC,KAAK,MAAM,CAAC,GAAG,CAAC,mBAAmB,CAAC;AACjG,EAAE,OAAO,KAAK,CAAC;AACf;AACA,CAAC,IAAI,SAAS,CAAC,SAAS,IAAI,IAAI,IAAI,OAAO,SAAS,CAAC,SAAS,CAAC,MAAM,KAAK,UAAU,EAAE;AACtF,EAAE,OAAO,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,aAAa,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;AAClG,EAAE;AACF;AACA,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC;AAClB,CAAC,IAAI,gBAAgB,GAAG,KAAK,CAAC;AAC9B,CAAC,SAAS,MAAM,CAAC,GAAG,IAAI,EAAE;AAC1B,EAAE,IAAI;AACN,GAAG,MAAM,KAAK,GAAG,SAAS,CAAC,GAAG,IAAI,CAAC,CAAC;AACpC,GAAG,IAAI,KAAK,IAAI,KAAK,CAAC,UAAU,CAAC,KAAK,WAAW,EAAE;AACnD,IAAI,gBAAgB,GAAG,IAAI,CAAC;AAC5B,IAAI;AACJ,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,GAAG,IAAI,CAAC,gCAAgC,CAAC,GAAG,CAAC,EAAE;AAC/C,IAAI,KAAK,GAAG,GAAG,CAAC;AAChB,IAAI;AACJ,GAAG;AACH;AACA,EAAE,OAAO,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACpC,EAAE;AACF;AACA,CAAC,MAAM,oBAAoB,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;AACzD;AACA,CAAC,IAAI,KAAK,EAAE;AACZ,EAAE,MAAM,KAAK,CAAC;AACd,EAAE;AACF,CAAC,OAAO,gBAAgB,CAAC;AACzB,CAAC;AACD;AACA,eAAe,eAAe,GAAG;AACjC,CAAC,IAAI,2BAA2B,GAAG,aAAa,CAAC;AACjD,CAAC,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,0BAA0B,2BAA2B,CAAC,CAAC;AACjF,CAAC,OAAO,QAAQ,CAAC;AACjB,CAAC;AACD;AACA,SAAS,cAAc,CAAC,QAAQ,EAAE;AAClC;AACA,CAAC,OAAO,QAAQ,CAAC,eAAe,GAAG,CAAC,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC;AAC7D,CAAC;AACD;AACA,eAAe,oBAAoB,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,EAAE,QAAQ,EAAE;AACnG,CAAC,IAAI,MAAM,CAAC;AACZ,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE;AAC1B,EAAE,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpC,EAAE;AACF,CAAC,MAAM,KAAK,GAAG,EAAE,MAAM,EAAE,CAAC;AAC1B;AACA,CAAC,OAAO,KAAK,CAAC,OAAO,CAAC,CAAC;AACvB,CAAC,MAAM,KAAK,GAAG,EAAE,CAAC;AAClB,CAAC,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;AACrD,EAAE,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;AAC7B,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,aAAa,CAAC,UAAU,EAAE;AAChD,GAAG,OAAO,EAAE,cAAc,CAAC,QAAQ,CAAC;AACpC,GAAG,KAAK;AACR,GAAG,IAAI;AACP,GAAG,CAAC,CAAC;AACL,EAAE;AACF;AACA,CAAC,MAAM,QAAQ,GAAG;AAClB,EAAE,GAAG,KAAK;AACV,EAAE,GAAG,KAAK;AACV,EAAE,CAAC;AACH,CAAC,MAAM,WAAW,GAAG,QAAQ,IAAI,KAAK,CAAC,QAAQ,CAAC;AAChD,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,yBAAyB,EAAE;AACjD,EAAE,KAAK,CAAC,qBAAqB,CAAC,GAAG,IAAI,CAAC;AACtC,EAAE,MAAM,OAAO,GAAG,MAAM,OAAO,sCAAqB,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,OAAO,CAAC,CAAC;AACjF,EAAE,QAAQ,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AACxC,EAAE,MAAM,IAAI,WAAW,IAAI,IAAI,EAAE;AACjC,EAAE,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC,aAAa,CAAC,UAAU,EAAE;AACtD,GAAG,OAAO,EAAE,cAAc,CAAC,QAAQ,CAAC;AACpC,GAAG,KAAK,EAAE,WAAW;AACrB,GAAG,CAAC,CAAC;AACL,EAAE;AACF,CAAC,MAAM,SAAS,GAAG,IAAI,GAAG,MAAM,YAAY,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;AAC/D,CAAC,IAAI,SAAS,EAAE;AAChB,EAAE,KAAK,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7D,EAAE,KAAK,CAAC,iBAAiB,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAC1C,EAAE,KAAK,CAAC,kBAAkB,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAC3C,EAAE;AACF,CAAC,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;AACxD,CAAC,MAAM,aAAa,GAAG;AACvB,EAAE,gBAAgB,EAAE,MAAM;AAC1B,EAAE,SAAS;AACX,EAAE,CAAC;AACH,CAAC,IAAI,IAAI,CAAC;AACV,CAAC,IAAI,wBAAwB,IAAI,QAAQ,EAAE;AAC3C,EAAE,IAAI,GAAG,MAAM,2BAA2B,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;AACjE,EAAE,MAAM;AACR,EAAE,IAAI,GAAG,MAAM,2BAA2B,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;AACjE,EAAE;AACF,CAAC,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;AACxB,CAAC;AACD;AACA;AACA;AACA;AACA,eAAe,YAAY,CAAC,EAAE,MAAM,EAAE,EAAE;AACxC,CAAC,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,MAAM,CAAC;AAC1C;AACA,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,SAAS,CAAC;AACrC,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,EAAE,OAAO,SAAS,CAAC;AAC3E;AACA,CAAC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AAC/C,CAAC,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE,CAAC;AACnD;AACA;AACA;AACA;AACA,CAAC,MAAM,SAAS,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,CAAC;AAC3D;AACA;AACA;AACA;AACA;AACA,CAAC,MAAM,UAAU;AACjB,EAAE,YAAY,CAAC,GAAG,CAAC,cAAc,CAAC;AAClC,wCAAwC,QAAQ;AAChD,IAAI,GAAG,CAAC,cAAc,CAAC;AACvB,KAAK,QAAQ,EAAE,CAAC;AAChB;AACA,CAAC,IAAI,CAAC,SAAS,IAAI,CAAC,UAAU,EAAE,OAAO,SAAS,CAAC;AACjD;AACA,CAAC,OAAO,CAAC,YAAY,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;AAC9C,CAAC;AACD;AACA,eAAe,2BAA2B,CAAC,KAAK,EAAE,OAAO,EAAE;AAC3D,CAAC,MAAM,QAAQ,GAAG,MAAM,eAAe,EAAE,CAAC;AAC1C,CAAC,IAAI,IAAI,GAAG,EAAE,CAAC;AACf,CAAC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AACzC,EAAE,IAAI,KAAK,GAAG,SAAS,CAAC;AACxB,EAAE,IAAI,MAAM,GAAG,QAAQ,CAAC,sBAAsB,CAAC,KAAK,EAAE;AACtD,GAAG,GAAG,OAAO;AACb,GAAG,OAAO,CAAC,GAAG,EAAE;AAChB,IAAI,KAAK,GAAG,GAAG,CAAC;AAChB,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;AAClB,IAAI;AACJ,GAAG,UAAU,GAAG;AAChB,IAAI,MAAM,CAAC,IAAI;AACf,KAAK,IAAI,QAAQ,CAAC;AAClB,MAAM,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE;AACxC,OAAO,IAAI,IAAI,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;AACvC,OAAO,QAAQ,EAAE,CAAC;AAClB,OAAO;AACP,MAAM,OAAO,GAAG;AAChB,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC;AACrB,OAAO;AACP,MAAM,CAAC;AACP,KAAK,CAAC;AACN,IAAI;AACJ,GAAG,CAAC,CAAC;AACL,EAAE,CAAC,CAAC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,eAAe,UAAU,CAAC,MAAM,EAAE;AAClC,CAAC,MAAM,MAAM,GAAG,MAAM,CAAC,SAAS,EAAE,CAAC;AACnC,CAAC,IAAI,MAAM,GAAG,EAAE,CAAC;AACjB,CAAC,MAAM,OAAO,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;AAC1C,CAAC,OAAO,IAAI,EAAE;AACd,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC;AAC9C,EAAE,IAAI,IAAI,EAAE;AACZ,GAAG,IAAI,KAAK,EAAE;AACd,IAAI,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACpC,IAAI,MAAM;AACV;AACA,IAAI,OAAO,CAAC,MAAM,CAAC,IAAI,UAAU,EAAE,CAAC,CAAC;AACrC,IAAI;AACJ;AACA,GAAG,OAAO,MAAM,CAAC;AACjB,GAAG;AACH,EAAE,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;AACpD,EAAE;AACF,CAAC;AACD;AACA,eAAe,2BAA2B,CAAC,KAAK,EAAE,OAAO,EAAE;AAC3D,CAAC,OAAO,MAAM,UAAU,CAAC,MAAM,QAAQ,CAAC,sBAAsB,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;AAChF,CAAC;AACD;AACA,MAAM,gBAAgB,GAAG,CAAC,mCAAmC,EAAE,qBAAqB,CAAC,CAAC;AACtF;AACA,SAAS,aAAa,CAAC,WAAW,EAAE;AACpC;AACA;AACA,CAAC,MAAM,IAAI,GAAG,WAAW,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;AACvD;AACA,CAAC,OAAO,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC;AACjD,CAAC;AACD;AACA,mBAAe;AACf,CAAC,IAAI,EAAE,gBAAgB;AACvB,CAAC,KAAK;AACN,CAAC,oBAAoB;AACrB,CAAC,uBAAuB,EAAE,IAAI;AAC9B,CAAC;;;;;;"}